import{_ as w,c as b,e,w as o,v as l,z as D,F as C,g as S,t as p,E as _,C as V,r as n,k,o as g}from"./main-Dc7XXzbq.js";import{u as c}from"./clients-DtdxGGMB.js";const U={__name:"ContactForm",props:{initialData:{type:Object,default:()=>({})},submitText:{type:String,default:"Save"}},emits:["submit","cancel"],setup(s,{expose:t,emit:i}){t();const r=s,m=i,d=c(),a=n(!1),u=n([]),y=n({first_name:"",last_name:"",email:"",phone:"",client_id:"",title:"",is_primary:!1,notes:"",...r.initialData});async function x(){await d.fetchClients(),u.value=d.clients}function v(){m("submit",y.value)}k(()=>x());const f={props:r,emit:m,clientStore:d,loading:a,clients:u,formData:y,loadClients:x,handleSubmit:v,ref:n,onMounted:k,get useClientStore(){return c}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},F={class:"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-gray-900"},M={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},j={class:"sm:col-span-2"},q=["value"],N={class:"flex items-center"},T={class:"flex items-center"},B={class:"sm:col-span-2"},E={class:"mt-6 flex gap-3"},P=["disabled"];function L(s,t,i,r,m,d){return g(),b("div",F,[e("form",{onSubmit:V(r.handleSubmit,["prevent"])},[e("div",M,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"First Name *",-1)),o(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.formData.first_name=a),type:"text",required:"",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[l,r.formData.first_name]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Last Name *",-1)),o(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.formData.last_name=a),type:"text",required:"",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[l,r.formData.last_name]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Email *",-1)),o(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.formData.email=a),type:"email",required:"",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[l,r.formData.email]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Phone",-1)),o(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.formData.phone=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[l,r.formData.phone]])]),e("div",j,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Client *",-1)),o(e("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.formData.client_id=a),required:"",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},[t[13]||(t[13]=e("option",{value:""},"Select a client",-1)),(g(!0),b(C,null,S(r.clients,a=>(g(),b("option",{key:a.id,value:a.id},p(a.name),9,q))),128))],512),[[D,r.formData.client_id]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Title",-1)),o(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>r.formData.title=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[l,r.formData.title]])]),e("div",N,[e("label",T,[o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>r.formData.is_primary=a),type:"checkbox",class:"rounded border-gray-300 text-brand-600 focus:ring-brand-500"},null,512),[[_,r.formData.is_primary]]),t[16]||(t[16]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Primary Contact",-1))])]),e("div",B,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Notes",-1)),o(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=a=>r.formData.notes=a),rows:"4",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[l,r.formData.notes]])])]),e("div",E,[e("button",{type:"submit",disabled:r.loading,class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50"},p(r.loading?"Saving...":i.submitText),9,P),e("button",{type:"button",onClick:t[8]||(t[8]=a=>s.$emit("cancel")),class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},"Cancel")])],32)])}const R=w(U,[["render",L],["__file","/home/btafoya/projects/openclient/resources/js/src/views/CRM/Contacts/ContactForm.vue"]]);export{R as C};
