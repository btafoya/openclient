import{J as be,r as w,q as D,_ as ae,c as b,o as i,d as s,e,t as u,C as O,n as E,j as L,w as I,v as z,z as de,u as re,k as R,h as Q,F as B,g as G,K as ne,a as xe,E as me,N as le,b as ye,i as oe,I as ie,H as ge,l as te}from"./main-Dw3b53V2.js";import{u as ue}from"./projects-BLsGHutX.js";import{A as ke}from"./AdminLayout-C6ZnkvFv.js";import{a as H}from"./index-B9ygI19o.js";import{u as ce}from"./timeTracking-Z6ovn2d5.js";const se=be("tasks",()=>{const p=w([]),r=w(null),l=w({todo:[],in_progress:[],completed:[],blocked:[]}),t=w(!1),x=w(null),T=w(""),a=w("all"),y=D(()=>p.value.filter(d=>d.is_active)),m=D(()=>{let d=p.value;if(T.value){const o=T.value.toLowerCase();d=d.filter(n=>{var g,c;return((g=n.title)==null?void 0:g.toLowerCase().includes(o))||((c=n.description)==null?void 0:c.toLowerCase().includes(o))})}return a.value&&a.value!=="all"&&(d=d.filter(o=>o.status===a.value)),d}),k=D(()=>{const d=new Date;return p.value.filter(o=>!o.due_date||o.status==="completed"?!1:new Date(o.due_date)<d)}),v=D(()=>p.value.length),P=D(()=>k.value.length);async function A(d=null,o=!0){var n,g;t.value=!0,x.value=null;try{const c={active:o};d&&(c.project_id=d);const h=await H.get("/api/tasks",{params:c});return p.value=h.data.data||[],p.value}catch(c){throw x.value=((g=(n=c.response)==null?void 0:n.data)==null?void 0:g.error)||"Failed to fetch tasks",c}finally{t.value=!1}}async function M(d,o=!0){var n,g;t.value=!0,x.value=null;try{const c=await H.get(`/api/projects/${d}/kanban`,{params:{active:o}});return l.value=c.data.data||{todo:[],in_progress:[],completed:[],blocked:[]},l.value}catch(c){throw x.value=((g=(n=c.response)==null?void 0:n.data)==null?void 0:g.error)||"Failed to fetch kanban board",c}finally{t.value=!1}}async function V(d){var o,n;t.value=!0,x.value=null;try{const g=await H.get(`/api/tasks/${d}`);return r.value=g.data.data,r.value}catch(g){throw x.value=((n=(o=g.response)==null?void 0:o.data)==null?void 0:n.error)||"Failed to fetch task",g}finally{t.value=!1}}async function _(d=null){var o,n;try{const g=d?{project_id:d}:{};return(await H.get("/api/tasks/overdue",{params:g})).data.data||[]}catch(g){throw x.value=((n=(o=g.response)==null?void 0:o.data)==null?void 0:n.error)||"Failed to fetch overdue tasks",g}}async function C(d){var o,n;t.value=!0,x.value=null;try{const c=(await H.post("/api/tasks",d)).data.data;return p.value.push(c),l.value[c.status]&&l.value[c.status].push(c),c}catch(g){throw x.value=((n=(o=g.response)==null?void 0:o.data)==null?void 0:n.error)||"Failed to create task",g}finally{t.value=!1}}async function K(d,o){var n,g,c;t.value=!0,x.value=null;try{const S=(await H.put(`/api/tasks/${d}`,o)).data.data,U=p.value.findIndex(ee=>ee.id===d);return U!==-1&&(p.value[U]=S),((n=r.value)==null?void 0:n.id)===d&&(r.value=S),N(S),S}catch(h){throw x.value=((c=(g=h.response)==null?void 0:g.data)==null?void 0:c.error)||"Failed to update task",h}finally{t.value=!1}}async function X(d,o){var n,g,c;t.value=!0,x.value=null;try{const S=(await H.patch(`/api/tasks/${d}/status`,{status:o})).data.data,U=p.value.findIndex(ee=>ee.id===d);return U!==-1&&(p.value[U]=S),((n=r.value)==null?void 0:n.id)===d&&(r.value=S),N(S),S}catch(h){throw x.value=((c=(g=h.response)==null?void 0:g.data)==null?void 0:c.error)||"Failed to update task status",h}finally{t.value=!1}}async function q(d,o){var n,g,c;t.value=!0,x.value=null;try{const S=(await H.patch(`/api/tasks/${d}/assign`,{user_id:o})).data.data,U=p.value.findIndex(ee=>ee.id===d);return U!==-1&&(p.value[U]=S),((n=r.value)==null?void 0:n.id)===d&&(r.value=S),N(S),S}catch(h){throw x.value=((c=(g=h.response)==null?void 0:g.data)==null?void 0:c.error)||"Failed to assign task",h}finally{t.value=!1}}async function Y(d,o,n=null){var g,c;try{const h={sort_order:o};return n&&(h.status=n),(await H.patch(`/api/tasks/${d}/sort-order`,h)).data.data}catch(h){throw x.value=((c=(g=h.response)==null?void 0:g.data)==null?void 0:c.error)||"Failed to update task order",h}}async function W(d,o,n){var g,c;try{return await H.post(`/api/projects/${d}/tasks/reorder`,{status:o,task_ids:n}),!0}catch(h){throw x.value=((c=(g=h.response)==null?void 0:g.data)==null?void 0:c.error)||"Failed to reorder tasks",h}}async function Z(d){var o,n,g;t.value=!0,x.value=null;try{return await H.delete(`/api/tasks/${d}`),p.value=p.value.filter(c=>c.id!==d),Object.keys(l.value).forEach(c=>{l.value[c]=l.value[c].filter(h=>h.id!==d)}),((o=r.value)==null?void 0:o.id)===d&&(r.value=null),!0}catch(c){throw x.value=((g=(n=c.response)==null?void 0:n.data)==null?void 0:g.error)||"Failed to delete task",c}finally{t.value=!1}}async function $(d){var o,n,g;t.value=!0,x.value=null;try{const h=(await H.post(`/api/tasks/${d}/toggle-active`)).data.data,S=p.value.findIndex(U=>U.id===d);return S!==-1&&(p.value[S]=h),((o=r.value)==null?void 0:o.id)===d&&(r.value=h),h}catch(c){throw x.value=((g=(n=c.response)==null?void 0:n.data)==null?void 0:g.error)||"Failed to toggle task status",c}finally{t.value=!1}}function N(d){Object.keys(l.value).forEach(o=>{l.value[o]=l.value[o].filter(n=>n.id!==d.id)}),l.value[d.status]&&l.value[d.status].push(d)}function J(d){T.value=d}function f(d){a.value=d}function j(){x.value=null}function F(){p.value=[],r.value=null,l.value={todo:[],in_progress:[],completed:[],blocked:[]},t.value=!1,x.value=null,T.value="",a.value="all"}return{tasks:p,currentTask:r,kanbanTasks:l,loading:t,error:x,searchTerm:T,statusFilter:a,activeTasks:y,filteredTasks:m,overdueTasks:k,taskCount:v,overdueCount:P,fetchTasks:A,fetchKanbanBoard:M,fetchTask:V,fetchOverdueTasks:_,createTask:C,updateTask:K,updateTaskStatus:X,assignTask:q,updateTaskSortOrder:Y,reorderTasks:W,deleteTask:Z,toggleActive:$,updateKanbanTask:N,setSearchTerm:J,setStatusFilter:f,clearError:j,reset:F}}),pe={__name:"TaskCard",props:{task:{type:Object,required:!0}},emits:["edit","delete","status-change"],setup(p,{expose:r}){r();const l=p;function t(){const k={todo:"border-gray-200 dark:border-gray-700",in_progress:"border-blue-200 dark:border-blue-800",blocked:"border-red-200 dark:border-red-800",completed:"border-green-200 dark:border-green-800"};return k[l.task.status]||k.todo}function x(){var v;const k={low:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",urgent:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"};return k[(v=l.task.priority)==null?void 0:v.toLowerCase()]||k.medium}function T(){if(!l.task.due_date)return"text-gray-500 dark:text-gray-400";const k=new Date(l.task.due_date),v=new Date;if(v.setHours(0,0,0,0),k<v&&l.task.status!=="completed")return"text-red-600 dark:text-red-400";const P=new Date(v);return P.setDate(P.getDate()+1),k<P?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"}function a(k){if(!k)return"";const v=new Date(k);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(v)}function y(k){return k?k.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):"?"}const m={props:l,getBorderClasses:t,getPriorityClasses:x,getDueDateClasses:T,formatDate:a,getInitials:y};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},fe={class:"mb-2 flex items-start justify-between"},ve={class:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2"},he={class:"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100"},we={key:0,class:"mb-3 text-xs text-gray-500 dark:text-gray-400 line-clamp-2"},_e={class:"flex flex-wrap items-center gap-2"},Te={key:1,class:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400"},je={key:2,class:"flex items-center gap-1"},De={class:"flex h-5 w-5 items-center justify-center rounded-full bg-brand-100 text-xs font-medium text-brand-700 dark:bg-brand-900/30 dark:text-brand-400"};function Ce(p,r,l,t,x,T){return i(),b("div",{class:E(["group cursor-pointer rounded-lg border bg-white p-3 shadow-sm transition-all hover:shadow-md dark:bg-gray-900",t.getBorderClasses()])},[s(" Header "),e("div",fe,[e("h4",ve,u(l.task.title),1),e("div",he,[e("button",{onClick:r[0]||(r[0]=O(a=>p.$emit("edit",l.task),["stop"])),class:"rounded p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-800 dark:hover:text-gray-300",title:"Edit"},[...r[2]||(r[2]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),e("button",{onClick:r[1]||(r[1]=O(a=>p.$emit("delete",l.task),["stop"])),class:"rounded p-1 text-gray-400 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/20 dark:hover:text-red-400",title:"Delete"},[...r[3]||(r[3]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])]),s(" Description "),l.task.description?(i(),b("p",we,u(l.task.description),1)):s("v-if",!0),s(" Footer "),e("div",_e,[s(" Priority Badge "),e("span",{class:E([t.getPriorityClasses(),"inline-flex items-center rounded px-1.5 py-0.5 text-xs font-medium"])},u(l.task.priority||"Medium"),3),s(" Due Date "),l.task.due_date?(i(),b("div",{key:0,class:E(["flex items-center gap-1 text-xs",t.getDueDateClasses()])},[r[4]||(r[4]=e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),L(" "+u(t.formatDate(l.task.due_date)),1)],2)):s("v-if",!0),s(" Estimated Hours "),l.task.estimated_hours?(i(),b("div",Te,[r[5]||(r[5]=e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),L(" "+u(l.task.estimated_hours)+"h ",1)])):s("v-if",!0),s(" Spacer "),r[6]||(r[6]=e("div",{class:"flex-1"},null,-1)),s(" Assignee Avatar "),l.task.assigned_user_name?(i(),b("div",je,[e("div",De,u(t.getInitials(l.task.assigned_user_name)),1)])):s("v-if",!0)])],2)}const Se=ae(pe,[["render",Ce],["__file","/home/btafoya/projects/openclient/resources/js/src/components/projects/TaskCard.vue"]]),Ee={__name:"TaskModal",props:{task:{type:Object,default:null},projectId:{type:String,required:!0}},emits:["close","saved"],setup(p,{expose:r,emit:l}){r();const t=p,x=l,T=se(),a=re({title:"",description:"",status:"todo",priority:"medium",due_date:"",estimated_hours:""}),y=re({}),m=w(null),k=w(!1);async function v(){var A,M,V;if(Object.keys(y).forEach(_=>delete y[_]),m.value=null,!((A=a.title)!=null&&A.trim())){y.title="Title is required";return}k.value=!0;try{const _={...a,project_id:t.projectId,estimated_hours:a.estimated_hours?parseFloat(a.estimated_hours):null,due_date:a.due_date||null};t.task?await T.updateTask(t.task.id,_):await T.createTask(_),x("saved")}catch(_){m.value=((V=(M=_.response)==null?void 0:M.data)==null?void 0:V.error)||"Failed to save task",console.error("Failed to save task:",_)}finally{k.value=!1}}R(()=>{t.task&&(a.title=t.task.title||"",a.description=t.task.description||"",a.status=t.task.status||"todo",a.priority=t.task.priority||"medium",a.due_date=t.task.due_date?t.task.due_date.split("T")[0]:"",a.estimated_hours=t.task.estimated_hours||"")});const P={props:t,emit:x,taskStore:T,formData:a,errors:y,submitError:m,submitting:k,handleSubmit:v,ref:w,reactive:re,onMounted:R,get useTaskStore(){return se}};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}},Me={class:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/50 p-4"},Fe={class:"w-full max-w-lg rounded-lg bg-white shadow-xl dark:bg-gray-900"},Be={class:"flex items-center justify-between border-b border-gray-200 px-6 py-4 dark:border-gray-800"},Le={class:"text-lg font-semibold text-gray-900 dark:text-white"},Pe={class:"mb-4"},He={key:0,class:"mt-1 text-xs text-red-600"},Ie={class:"mb-4"},Ve={class:"mb-4 grid grid-cols-2 gap-4"},Ae={class:"mb-4 grid grid-cols-2 gap-4"},Ue={key:0,class:"mb-4 rounded-lg bg-red-50 p-3 text-sm text-red-700 dark:bg-red-900/20 dark:text-red-400"},ze={class:"flex justify-end gap-3"},Ke=["disabled"],Ne={key:0,class:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"};function Oe(p,r,l,t,x,T){return i(),b("div",Me,[e("div",Fe,[s(" Header "),e("div",Be,[e("h2",Le,u(l.task?"Edit Task":"Create Task"),1),e("button",{onClick:r[0]||(r[0]=a=>p.$emit("close")),class:"rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-800 dark:hover:text-gray-300"},[...r[8]||(r[8]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s(" Form "),e("form",{onSubmit:O(t.handleSubmit,["prevent"]),class:"p-6"},[s(" Title "),e("div",Pe,[r[9]||(r[9]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},[L(" Title "),e("span",{class:"text-red-500"},"*")],-1)),I(e("input",{"onUpdate:modelValue":r[1]||(r[1]=a=>t.formData.title=a),type:"text",required:"",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white",placeholder:"Task title"},null,512),[[z,t.formData.title]]),t.errors.title?(i(),b("p",He,u(t.errors.title),1)):s("v-if",!0)]),s(" Description "),e("div",Ie,[r[10]||(r[10]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Description ",-1)),I(e("textarea",{"onUpdate:modelValue":r[2]||(r[2]=a=>t.formData.description=a),rows:"3",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white",placeholder:"Task description (optional)"},null,512),[[z,t.formData.description]])]),s(" Status & Priority Row "),e("div",Ve,[e("div",null,[r[12]||(r[12]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),I(e("select",{"onUpdate:modelValue":r[3]||(r[3]=a=>t.formData.status=a),class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white"},[...r[11]||(r[11]=[e("option",{value:"todo"},"To Do",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"blocked"},"Blocked",-1),e("option",{value:"completed"},"Completed",-1)])],512),[[de,t.formData.status]])]),e("div",null,[r[14]||(r[14]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Priority ",-1)),I(e("select",{"onUpdate:modelValue":r[4]||(r[4]=a=>t.formData.priority=a),class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white"},[...r[13]||(r[13]=[e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1),e("option",{value:"urgent"},"Urgent",-1)])],512),[[de,t.formData.priority]])])]),s(" Due Date & Estimated Hours Row "),e("div",Ae,[e("div",null,[r[15]||(r[15]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Due Date ",-1)),I(e("input",{"onUpdate:modelValue":r[5]||(r[5]=a=>t.formData.due_date=a),type:"date",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white"},null,512),[[z,t.formData.due_date]])]),e("div",null,[r[16]||(r[16]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Estimated Hours ",-1)),I(e("input",{"onUpdate:modelValue":r[6]||(r[6]=a=>t.formData.estimated_hours=a),type:"number",step:"0.25",min:"0",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white",placeholder:"0.00"},null,512),[[z,t.formData.estimated_hours]])])]),s(" Error Message "),t.submitError?(i(),b("div",Ue,u(t.submitError),1)):s("v-if",!0),s(" Actions "),e("div",ze,[e("button",{type:"button",onClick:r[7]||(r[7]=a=>p.$emit("close")),class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800"}," Cancel "),e("button",{type:"submit",disabled:t.submitting,class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 dark:bg-brand-500 dark:hover:bg-brand-600"},[t.submitting?(i(),b("span",Ne)):s("v-if",!0),L(" "+u(l.task?"Save Changes":"Create Task"),1)],8,Ke)])],32)])])}const Re=ae(Ee,[["render",Oe],["__file","/home/btafoya/projects/openclient/resources/js/src/components/projects/TaskModal.vue"]]),qe={__name:"TaskBoard",props:{projectId:{type:String,required:!0}},setup(p,{expose:r}){r();const l=p,t=se(),x=w(""),T=w("kanban"),a=w(!1),y=w(null),m=w(null),k=w(null),v=D(()=>t.loading),P=D(()=>{const f=x.value.toLowerCase(),j=F=>f?F.filter(d=>{var o,n;return((o=d.title)==null?void 0:o.toLowerCase().includes(f))||((n=d.description)==null?void 0:n.toLowerCase().includes(f))}):F;return{todo:j(t.kanbanTasks.todo||[]),in_progress:j(t.kanbanTasks.in_progress||[]),blocked:j(t.kanbanTasks.blocked||[]),completed:j(t.kanbanTasks.completed||[])}}),A=D(()=>{const f=[...t.kanbanTasks.todo,...t.kanbanTasks.in_progress,...t.kanbanTasks.blocked,...t.kanbanTasks.completed];if(!x.value)return f;const j=x.value.toLowerCase();return f.filter(F=>{var d,o;return((d=F.title)==null?void 0:d.toLowerCase().includes(j))||((o=F.description)==null?void 0:o.toLowerCase().includes(j))})});async function M(){await t.fetchKanbanBoard(l.projectId)}function V(f,j){k.value=f,j.dataTransfer.effectAllowed="move",j.dataTransfer.setData("text/plain",f.id)}async function _(f,j){if(j.preventDefault(),!k.value||k.value.status===f){k.value=null;return}try{await t.updateTaskStatus(k.value.id,f),await M()}catch(F){console.error("Failed to update task status:",F)}finally{k.value=null}}async function C(f,j){try{await t.updateTaskStatus(f,j),await M()}catch(F){console.error("Failed to update task status:",F)}}function K(f,j){const F=j.target.value;C(f,F)}function X(f){y.value=f}function q(f){m.value=f}async function Y(){if(m.value)try{await t.deleteTask(m.value.id),m.value=null}catch(f){console.error("Failed to delete task:",f)}}function W(){a.value=!1,y.value=null}async function Z(){W(),await M()}function $(f){if(!f)return"—";const j=new Date(f);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(j)}function N(f){const j={low:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",urgent:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"};return j[f==null?void 0:f.toLowerCase()]||j.medium}R(()=>{M()}),ne(()=>l.projectId,()=>{M()});const J={props:l,taskStore:t,searchTerm:x,viewMode:T,showCreateModal:a,editingTask:y,deletingTask:m,draggedTask:k,loading:v,filteredKanban:P,allFilteredTasks:A,loadTasks:M,handleDragStart:V,handleDrop:_,updateStatus:C,handleStatusChange:K,editTask:X,confirmDelete:q,deleteTask:Y,closeModal:W,handleTaskSaved:Z,formatDate:$,getPriorityClasses:N,ref:w,computed:D,onMounted:R,watch:ne,get useTaskStore(){return se},TaskCard:Se,TaskModal:Re};return Object.defineProperty(J,"__isScriptSetup",{enumerable:!1,value:!0}),J}},We={class:"task-board"},Je={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Qe={class:"flex items-center gap-4"},Ge={class:"relative"},Xe={class:"flex rounded-lg border border-gray-300 dark:border-gray-700"},Ye={key:0,class:"flex items-center justify-center py-12"},Ze={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},$e={class:"flex flex-col rounded-lg bg-gray-100 dark:bg-gray-800/50"},et={class:"flex items-center justify-between border-b border-gray-200 p-3 dark:border-gray-700"},tt={class:"flex items-center gap-2"},rt={class:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-medium text-gray-600 dark:bg-gray-700 dark:text-gray-400"},at={key:0,class:"py-4 text-center text-sm text-gray-400"},ot={class:"flex flex-col rounded-lg bg-blue-50 dark:bg-blue-900/10"},st={class:"flex items-center justify-between border-b border-blue-200 p-3 dark:border-blue-800"},dt={class:"flex items-center gap-2"},nt={class:"rounded-full bg-blue-200 px-2 py-0.5 text-xs font-medium text-blue-600 dark:bg-blue-800 dark:text-blue-300"},lt={key:0,class:"py-4 text-center text-sm text-gray-400"},it={class:"flex flex-col rounded-lg bg-red-50 dark:bg-red-900/10"},gt={class:"flex items-center justify-between border-b border-red-200 p-3 dark:border-red-800"},ut={class:"flex items-center gap-2"},ct={class:"rounded-full bg-red-200 px-2 py-0.5 text-xs font-medium text-red-600 dark:bg-red-800 dark:text-red-300"},bt={key:0,class:"py-4 text-center text-sm text-gray-400"},xt={class:"flex flex-col rounded-lg bg-green-50 dark:bg-green-900/10"},mt={class:"flex items-center justify-between border-b border-green-200 p-3 dark:border-green-800"},yt={class:"flex items-center gap-2"},kt={class:"rounded-full bg-green-200 px-2 py-0.5 text-xs font-medium text-green-600 dark:bg-green-800 dark:text-green-300"},pt={key:0,class:"py-4 text-center text-sm text-gray-400"},ft={class:"overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-800 dark:bg-gray-900"},vt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ht={class:"divide-y divide-gray-200 dark:divide-gray-700"},wt={class:"whitespace-nowrap px-4 py-3"},_t={class:"text-sm font-medium text-gray-900 dark:text-white"},Tt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs"},jt={class:"whitespace-nowrap px-4 py-3"},Dt=["value","onChange"],Ct={class:"whitespace-nowrap px-4 py-3"},St={class:"whitespace-nowrap px-4 py-3 text-sm text-gray-500 dark:text-gray-400"},Et={class:"whitespace-nowrap px-4 py-3 text-sm text-gray-500 dark:text-gray-400"},Mt={class:"whitespace-nowrap px-4 py-3 text-right text-sm"},Ft=["onClick"],Bt=["onClick"],Lt={key:0},Pt={key:4,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},Ht={class:"mx-4 w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-gray-900"},It={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Vt={class:"mt-4 flex justify-end gap-3"};function At(p,r,l,t,x,T){return i(),b("div",We,[s(" Header with Actions "),e("div",Je,[e("div",Qe,[s(" Search "),e("div",Ge,[r[13]||(r[13]=e("svg",{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),I(e("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>t.searchTerm=a),type:"text",placeholder:"Search tasks...",class:"w-64 rounded-lg border border-gray-300 bg-white py-2 pl-10 pr-4 text-sm text-gray-900 focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white"},null,512),[[z,t.searchTerm]])]),s(" View Toggle "),e("div",Xe,[e("button",{onClick:r[1]||(r[1]=a=>t.viewMode="kanban"),class:E(["px-3 py-1.5 text-sm font-medium transition-colors",t.viewMode==="kanban"?"bg-brand-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"])}," Board ",2),e("button",{onClick:r[2]||(r[2]=a=>t.viewMode="list"),class:E(["px-3 py-1.5 text-sm font-medium transition-colors",t.viewMode==="list"?"bg-brand-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"])}," List ",2)])]),e("button",{onClick:r[3]||(r[3]=a=>t.showCreateModal=!0),class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 dark:bg-brand-500 dark:hover:bg-brand-600"},[...r[14]||(r[14]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),L(" New Task ",-1)])])]),s(" Loading State "),t.loading?(i(),b("div",Ye,[...r[15]||(r[15]=[e("div",{class:"h-8 w-8 animate-spin rounded-full border-4 border-gray-300 border-t-brand-600 dark:border-gray-700 dark:border-t-brand-500"},null,-1)])])):t.viewMode==="kanban"?(i(),b(B,{key:1},[s(" Kanban Board View "),e("div",Ze,[s(" Todo Column "),e("div",$e,[e("div",et,[e("div",tt,[r[16]||(r[16]=e("span",{class:"h-2 w-2 rounded-full bg-gray-400"},null,-1)),r[17]||(r[17]=e("h3",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"To Do",-1)),e("span",rt,u(t.filteredKanban.todo.length),1)])]),e("div",{class:"flex-1 space-y-2 p-2 min-h-[200px]",onDragover:r[4]||(r[4]=O(()=>{},["prevent"])),onDrop:r[5]||(r[5]=a=>t.handleDrop("todo",a))},[(i(!0),b(B,null,G(t.filteredKanban.todo,a=>(i(),Q(t.TaskCard,{key:a.id,task:a,onEdit:t.editTask,onDelete:t.confirmDelete,onStatusChange:t.updateStatus,draggable:"true",onDragstart:y=>t.handleDragStart(a,y)},null,8,["task","onDragstart"]))),128)),t.filteredKanban.todo.length===0?(i(),b("div",at," No tasks ")):s("v-if",!0)],32)]),s(" In Progress Column "),e("div",ot,[e("div",st,[e("div",dt,[r[18]||(r[18]=e("span",{class:"h-2 w-2 rounded-full bg-blue-500"},null,-1)),r[19]||(r[19]=e("h3",{class:"text-sm font-semibold text-blue-700 dark:text-blue-300"},"In Progress",-1)),e("span",nt,u(t.filteredKanban.in_progress.length),1)])]),e("div",{class:"flex-1 space-y-2 p-2 min-h-[200px]",onDragover:r[6]||(r[6]=O(()=>{},["prevent"])),onDrop:r[7]||(r[7]=a=>t.handleDrop("in_progress",a))},[(i(!0),b(B,null,G(t.filteredKanban.in_progress,a=>(i(),Q(t.TaskCard,{key:a.id,task:a,onEdit:t.editTask,onDelete:t.confirmDelete,onStatusChange:t.updateStatus,draggable:"true",onDragstart:y=>t.handleDragStart(a,y)},null,8,["task","onDragstart"]))),128)),t.filteredKanban.in_progress.length===0?(i(),b("div",lt," No tasks ")):s("v-if",!0)],32)]),s(" Blocked Column "),e("div",it,[e("div",gt,[e("div",ut,[r[20]||(r[20]=e("span",{class:"h-2 w-2 rounded-full bg-red-500"},null,-1)),r[21]||(r[21]=e("h3",{class:"text-sm font-semibold text-red-700 dark:text-red-300"},"Blocked",-1)),e("span",ct,u(t.filteredKanban.blocked.length),1)])]),e("div",{class:"flex-1 space-y-2 p-2 min-h-[200px]",onDragover:r[8]||(r[8]=O(()=>{},["prevent"])),onDrop:r[9]||(r[9]=a=>t.handleDrop("blocked",a))},[(i(!0),b(B,null,G(t.filteredKanban.blocked,a=>(i(),Q(t.TaskCard,{key:a.id,task:a,onEdit:t.editTask,onDelete:t.confirmDelete,onStatusChange:t.updateStatus,draggable:"true",onDragstart:y=>t.handleDragStart(a,y)},null,8,["task","onDragstart"]))),128)),t.filteredKanban.blocked.length===0?(i(),b("div",bt," No tasks ")):s("v-if",!0)],32)]),s(" Completed Column "),e("div",xt,[e("div",mt,[e("div",yt,[r[22]||(r[22]=e("span",{class:"h-2 w-2 rounded-full bg-green-500"},null,-1)),r[23]||(r[23]=e("h3",{class:"text-sm font-semibold text-green-700 dark:text-green-300"},"Completed",-1)),e("span",kt,u(t.filteredKanban.completed.length),1)])]),e("div",{class:"flex-1 space-y-2 p-2 min-h-[200px]",onDragover:r[10]||(r[10]=O(()=>{},["prevent"])),onDrop:r[11]||(r[11]=a=>t.handleDrop("completed",a))},[(i(!0),b(B,null,G(t.filteredKanban.completed,a=>(i(),Q(t.TaskCard,{key:a.id,task:a,onEdit:t.editTask,onDelete:t.confirmDelete,onStatusChange:t.updateStatus,draggable:"true",onDragstart:y=>t.handleDragStart(a,y)},null,8,["task","onDragstart"]))),128)),t.filteredKanban.completed.length===0?(i(),b("div",pt," No tasks ")):s("v-if",!0)],32)])])],2112)):(i(),b(B,{key:2},[s(" List View "),e("div",ft,[e("table",vt,[r[26]||(r[26]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Task "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Status "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Priority "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Assignee "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Due Date "),e("th",{class:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Actions ")])],-1)),e("tbody",ht,[(i(!0),b(B,null,G(t.allFilteredTasks,a=>(i(),b("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("td",wt,[e("div",_t,u(a.title),1),a.description?(i(),b("div",Tt,u(a.description),1)):s("v-if",!0)]),e("td",jt,[e("select",{value:a.status,onChange:y=>t.handleStatusChange(a.id,y),class:"rounded border-gray-300 text-xs dark:border-gray-700 dark:bg-gray-800"},[...r[24]||(r[24]=[e("option",{value:"todo"},"To Do",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"blocked"},"Blocked",-1),e("option",{value:"completed"},"Completed",-1)])],40,Dt)]),e("td",Ct,[e("span",{class:E([t.getPriorityClasses(a.priority),"inline-flex rounded-full px-2 py-0.5 text-xs font-medium"])},u(a.priority||"Medium"),3)]),e("td",St,u(a.assigned_user_name||"Unassigned"),1),e("td",Et,u(a.due_date?t.formatDate(a.due_date):"—"),1),e("td",Mt,[e("button",{onClick:y=>t.editTask(a),class:"mr-2 text-brand-600 hover:text-brand-800 dark:text-brand-400"}," Edit ",8,Ft),e("button",{onClick:y=>t.confirmDelete(a),class:"text-red-600 hover:text-red-800 dark:text-red-400"}," Delete ",8,Bt)])]))),128)),t.allFilteredTasks.length===0?(i(),b("tr",Lt,[...r[25]||(r[25]=[e("td",{colspan:"6",class:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400"}," No tasks found ",-1)])])):s("v-if",!0)])])])],2112)),s(" Create/Edit Modal "),t.showCreateModal||t.editingTask?(i(),Q(t.TaskModal,{key:3,task:t.editingTask,"project-id":l.projectId,onClose:t.closeModal,onSaved:t.handleTaskSaved},null,8,["task","project-id"])):s("v-if",!0),s(" Delete Confirmation Modal "),t.deletingTask?(i(),b("div",Pt,[e("div",Ht,[r[27]||(r[27]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Delete Task",-1)),e("p",It,' Are you sure you want to delete "'+u(t.deletingTask.title)+'"? This action cannot be undone. ',1),e("div",Vt,[e("button",{onClick:r[12]||(r[12]=a=>t.deletingTask=null),class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800"}," Cancel "),e("button",{onClick:t.deleteTask,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700"}," Delete ")])])])):s("v-if",!0)])}const Ut=ae(qe,[["render",At],["__file","/home/btafoya/projects/openclient/resources/js/src/components/projects/TaskBoard.vue"]]),zt={__name:"TimeTracker",props:{projectId:{type:String,required:!0}},setup(p,{expose:r}){r();const l=p,t=ce(),x=w(""),T=w(!1),a=w(null),y=w(null),m=w(!1),k=w(!1),v=re({description:"",date:new Date().toISOString().split("T")[0],hours:"",is_billable:!0}),P=D(()=>t.loading),A=D(()=>t.isTimerRunning),M=D(()=>t.runningTimer),V=D(()=>t.formattedElapsedTime),_=D(()=>t.timeEntries),C=D(()=>t.billableHours),K=D(()=>{const o=new Date().toISOString().split("T")[0];return t.timeEntries.filter(n=>{var g;return(g=n.start_time||n.created_at)==null?void 0:g.startsWith(o)}).reduce((n,g)=>n+parseFloat(g.hours||0),0)}),X=D(()=>{const o=new Date,n=new Date(o.getTime()-10080*60*1e3);return t.timeEntries.filter(g=>new Date(g.start_time||g.created_at)>=n).reduce((g,c)=>g+parseFloat(c.hours||0),0)});async function q(){k.value=!0;try{await Promise.all([t.fetchTimeEntries({project_id:l.projectId}),t.checkRunningTimer()])}catch(o){console.error("Failed to load time tracking data:",o)}finally{k.value=!1}}async function Y(){try{await t.startTimer(l.projectId,null,x.value||null),x.value=""}catch(o){console.error("Failed to start timer:",o)}}async function W(){try{await t.stopTimer()}catch(o){console.error("Failed to stop timer:",o)}}async function Z(o){try{await t.toggleBillable(o.id)}catch(n){console.error("Failed to toggle billable:",n)}}function $(o){var n;a.value=o,v.description=o.description||"",v.date=((n=o.start_time||o.created_at)==null?void 0:n.split("T")[0])||new Date().toISOString().split("T")[0],v.hours=o.hours,v.is_billable=o.is_billable}function N(o){y.value=o}async function J(){if(y.value)try{await t.deleteTimeEntry(y.value.id),y.value=null}catch(o){console.error("Failed to delete entry:",o)}}function f(){T.value=!1,a.value=null,v.description="",v.date=new Date().toISOString().split("T")[0],v.hours="",v.is_billable=!0}async function j(){m.value=!0;try{const o={project_id:l.projectId,description:v.description||null,hours:parseFloat(v.hours),start_time:v.date+"T09:00:00",is_billable:v.is_billable};a.value?await t.updateTimeEntry(a.value.id,o):await t.createTimeEntry(o),f()}catch(o){console.error("Failed to save entry:",o)}finally{m.value=!1}}function F(o){if(!o)return"—";const n=new Date(o);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(n)}R(()=>{q()}),le(()=>{});const d={props:l,timeStore:t,timerDescription:x,showManualEntry:T,editingEntry:a,deletingEntry:y,savingEntry:m,entriesLoading:k,entryForm:v,loading:P,isTimerRunning:A,runningTimer:M,formattedElapsedTime:V,timeEntries:_,billableHours:C,todayHours:K,weekHours:X,loadData:q,startTimer:Y,stopTimer:W,toggleBillable:Z,editEntry:$,confirmDeleteEntry:N,deleteEntry:J,closeManualEntry:f,saveManualEntry:j,formatDate:F,ref:w,reactive:re,computed:D,onMounted:R,onUnmounted:le,get useTimeTrackingStore(){return ce}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},Kt={class:"time-tracker"},Nt={class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},Ot={class:"flex flex-col items-center gap-6 sm:flex-row sm:justify-between"},Rt={class:"flex items-center gap-4"},qt={class:"relative"},Wt={key:0,class:"absolute -right-1 -top-1"},Jt={class:"text-left"},Qt={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Gt={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Xt={key:1,class:"text-xs text-brand-600 dark:text-brand-400"},Yt={class:"flex flex-col gap-3 sm:flex-row"},Zt={key:0,class:"flex gap-2"},$t=["disabled"],er=["disabled"],tr={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-3"},rr={class:"rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-gray-900"},ar={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},or={class:"rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-gray-900"},sr={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},dr={class:"rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-gray-900"},nr={class:"mt-1 text-2xl font-bold text-green-600 dark:text-green-400"},lr={class:"rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-800 dark:bg-gray-900"},ir={class:"flex items-center justify-between border-b border-gray-200 px-4 py-3 dark:border-gray-800"},gr={key:0,class:"flex items-center justify-center py-8"},ur={class:"overflow-x-auto"},cr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},br={class:"divide-y divide-gray-200 dark:divide-gray-700"},xr={class:"whitespace-nowrap px-4 py-3"},mr={class:"text-sm text-gray-900 dark:text-white"},yr={class:"whitespace-nowrap px-4 py-3 text-sm text-gray-500 dark:text-gray-400"},kr={class:"whitespace-nowrap px-4 py-3 text-sm text-gray-500 dark:text-gray-400"},pr={class:"whitespace-nowrap px-4 py-3"},fr={class:"text-sm font-medium text-gray-900 dark:text-white"},vr={class:"whitespace-nowrap px-4 py-3"},hr=["onClick"],wr={class:"whitespace-nowrap px-4 py-3 text-right text-sm"},_r=["onClick"],Tr=["onClick"],jr={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"},Dr={class:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-gray-900"},Cr={class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"},Sr={class:"mb-4"},Er={class:"mb-4 grid grid-cols-2 gap-4"},Mr={class:"mb-4"},Fr={class:"flex items-center gap-2"},Br={class:"flex justify-end gap-3"},Lr=["disabled"],Pr={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},Hr={class:"mx-4 w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-gray-900"},Ir={class:"mt-4 flex justify-end gap-3"};function Vr(p,r,l,t,x,T){var a,y;return i(),b("div",Kt,[s(" Timer Widget "),e("div",Nt,[e("div",Ot,[s(" Timer Display "),e("div",Rt,[e("div",qt,[e("div",{class:E(["flex h-24 w-24 items-center justify-center rounded-full border-4 transition-all",t.isTimerRunning?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800"])},[e("span",{class:E(["font-mono text-xl font-bold",t.isTimerRunning?"text-green-600 dark:text-green-400":"text-gray-700 dark:text-gray-300"])},u(t.formattedElapsedTime),3)],2),t.isTimerRunning?(i(),b("div",Wt,[...r[7]||(r[7]=[e("span",{class:"relative flex h-4 w-4"},[e("span",{class:"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"}),e("span",{class:"relative inline-flex h-4 w-4 rounded-full bg-green-500"})],-1)])])):s("v-if",!0)]),e("div",Jt,[e("p",Qt,u(t.isTimerRunning?"Timer Running":"Timer Stopped"),1),(a=t.runningTimer)!=null&&a.description?(i(),b("p",Gt,u(t.runningTimer.description),1)):s("v-if",!0),(y=t.runningTimer)!=null&&y.task_title?(i(),b("p",Xt," Task: "+u(t.runningTimer.task_title),1)):s("v-if",!0)])]),s(" Timer Controls "),e("div",Yt,[t.isTimerRunning?(i(),b("button",{key:1,onClick:t.stopTimer,disabled:t.loading,class:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-6 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50"},[...r[9]||(r[9]=[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M6 6h12v12H6z"})],-1),L(" Stop Timer ",-1)])],8,er)):(i(),b("div",Zt,[I(e("input",{"onUpdate:modelValue":r[0]||(r[0]=m=>t.timerDescription=m),type:"text",placeholder:"What are you working on?",class:"w-64 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white"},null,512),[[z,t.timerDescription]]),e("button",{onClick:t.startTimer,disabled:t.loading,class:"inline-flex items-center gap-2 rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50"},[...r[8]||(r[8]=[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 5v14l11-7z"})],-1),L(" Start ",-1)])],8,$t)]))])])]),s(" Quick Stats "),e("div",tr,[e("div",rr,[r[10]||(r[10]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Today's Hours",-1)),e("p",ar,u(t.todayHours.toFixed(2))+"h ",1)]),e("div",or,[r[11]||(r[11]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"This Week",-1)),e("p",sr,u(t.weekHours.toFixed(2))+"h ",1)]),e("div",dr,[r[12]||(r[12]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Billable Hours",-1)),e("p",nr,u(t.billableHours.toFixed(2))+"h ",1)])]),s(" Time Entries List "),e("div",lr,[e("div",ir,[r[14]||(r[14]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Time Entries",-1)),e("button",{onClick:r[1]||(r[1]=m=>t.showManualEntry=!0),class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800"},[...r[13]||(r[13]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),L(" Add Manual Entry ",-1)])])]),s(" Loading State "),t.entriesLoading?(i(),b("div",gr,[...r[15]||(r[15]=[e("div",{class:"h-8 w-8 animate-spin rounded-full border-4 border-gray-300 border-t-brand-600 dark:border-gray-700 dark:border-t-brand-500"},null,-1)])])):t.timeEntries.length>0?(i(),b(B,{key:1},[s(" Entries Table "),e("div",ur,[e("table",cr,[r[16]||(r[16]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Description "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Task "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Date "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Hours "),e("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Billable "),e("th",{class:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," Actions ")])],-1)),e("tbody",br,[(i(!0),b(B,null,G(t.timeEntries,m=>(i(),b("tr",{key:m.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("td",xr,[e("div",mr,u(m.description||"No description"),1)]),e("td",yr,u(m.task_title||"—"),1),e("td",kr,u(t.formatDate(m.start_time||m.created_at)),1),e("td",pr,[e("span",fr,u(parseFloat(m.hours).toFixed(2))+"h ",1)]),e("td",vr,[e("button",{onClick:k=>t.toggleBillable(m),class:E(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium transition-colors",m.is_billable?"bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400"])},u(m.is_billable?"Billable":"Non-billable"),11,hr)]),e("td",wr,[e("button",{onClick:k=>t.editEntry(m),class:"mr-2 text-brand-600 hover:text-brand-800 dark:text-brand-400"}," Edit ",8,_r),e("button",{onClick:k=>t.confirmDeleteEntry(m),class:"text-red-600 hover:text-red-800 dark:text-red-400"}," Delete ",8,Tr)])]))),128))])])])],2112)):(i(),b(B,{key:2},[s(" Empty State "),r[17]||(r[17]=xe('<div class="py-8 text-center"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><p class="mt-2 text-sm text-gray-500 dark:text-gray-400">No time entries yet</p><p class="text-xs text-gray-400 dark:text-gray-500">Start the timer or add a manual entry</p></div>',1))],2112))]),s(" Manual Entry Modal "),t.showManualEntry||t.editingEntry?(i(),b("div",jr,[e("div",Dr,[e("h3",Cr,u(t.editingEntry?"Edit Time Entry":"Add Manual Entry"),1),e("form",{onSubmit:O(t.saveManualEntry,["prevent"])},[e("div",Sr,[r[18]||(r[18]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Description ",-1)),I(e("input",{"onUpdate:modelValue":r[2]||(r[2]=m=>t.entryForm.description=m),type:"text",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-gray-700 dark:bg-gray-800 dark:text-white",placeholder:"What did you work on?"},null,512),[[z,t.entryForm.description]])]),e("div",Er,[e("div",null,[r[19]||(r[19]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Date ",-1)),I(e("input",{"onUpdate:modelValue":r[3]||(r[3]=m=>t.entryForm.date=m),type:"date",required:"",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-gray-700 dark:bg-gray-800 dark:text-white"},null,512),[[z,t.entryForm.date]])]),e("div",null,[r[20]||(r[20]=e("label",{class:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300"},[L(" Hours "),e("span",{class:"text-red-500"},"*")],-1)),I(e("input",{"onUpdate:modelValue":r[4]||(r[4]=m=>t.entryForm.hours=m),type:"number",step:"0.25",min:"0.25",required:"",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm dark:border-gray-700 dark:bg-gray-800 dark:text-white",placeholder:"0.00"},null,512),[[z,t.entryForm.hours]])])]),e("div",Mr,[e("label",Fr,[I(e("input",{"onUpdate:modelValue":r[5]||(r[5]=m=>t.entryForm.is_billable=m),type:"checkbox",class:"rounded border-gray-300 text-brand-600 focus:ring-brand-500 dark:border-gray-700"},null,512),[[me,t.entryForm.is_billable]]),r[21]||(r[21]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Billable",-1))])]),e("div",Br,[e("button",{type:"button",onClick:t.closeManualEntry,class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800"}," Cancel "),e("button",{type:"submit",disabled:t.savingEntry,class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50"},u(t.savingEntry?"Saving...":"Save Entry"),9,Lr)])],32)])])):s("v-if",!0),s(" Delete Confirmation "),t.deletingEntry?(i(),b("div",Pr,[e("div",Hr,[r[22]||(r[22]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Delete Entry",-1)),r[23]||(r[23]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Are you sure you want to delete this time entry? This action cannot be undone. ",-1)),e("div",Ir,[e("button",{onClick:r[6]||(r[6]=m=>t.deletingEntry=null),class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800"}," Cancel "),e("button",{onClick:t.deleteEntry,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700"}," Delete ")])])])):s("v-if",!0)])}const Ar=ae(zt,[["render",Vr],["__file","/home/btafoya/projects/openclient/resources/js/src/components/projects/TimeTracker.vue"]]),Ur={__name:"ProjectView",setup(p,{expose:r}){r();const l=ie(),t=ge(),x=ue(),T=w(!1),a=w(null),y=w("details"),m=D(()=>x.currentProject);async function k(){var _,C;T.value=!0,a.value=null;try{await x.fetchProject(l.params.id)}catch(K){console.error("Failed to load project:",K),a.value=((C=(_=K.response)==null?void 0:_.data)==null?void 0:C.error)||"Failed to load project details"}finally{T.value=!1}}function v(_){if(!_)return"—";const C=new Date(_);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(C)}function P(_){const C={planning:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",in_progress:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",on_hold:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",completed:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"};return C[_]||C.planning}function A(_){const C={planning:"bg-blue-600",in_progress:"bg-green-600",on_hold:"bg-yellow-600",completed:"bg-gray-600"};return C[_]||C.planning}function M(_){return{planning:"Planning",in_progress:"In Progress",on_hold:"On Hold",completed:"Completed"}[_]||_}R(()=>{k()});const V={route:l,router:t,projectStore:x,loading:T,loadError:a,activeTab:y,project:m,loadProject:k,formatDate:v,getStatusClasses:P,getStatusDotClasses:A,getStatusLabel:M,ref:w,computed:D,onMounted:R,get useRoute(){return ie},get useRouter(){return ge},get useProjectStore(){return ue},AdminLayout:ke,TaskBoard:Ut,TimeTracker:Ar};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}},zr={class:"mx-auto max-w-7xl"},Kr={key:0,class:"flex items-center justify-center py-12"},Nr={class:"rounded-lg border border-red-300 bg-red-50 p-6 dark:border-red-700 dark:bg-red-900/20"},Or={class:"flex items-start gap-3"},Rr={class:"flex-1"},qr={class:"mt-1 text-sm text-red-700 dark:text-red-400"},Wr={class:"mt-4 flex gap-3"},Jr={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"},Qr={class:"flex-1"},Gr={class:"flex items-center gap-3"},Xr={class:"text-3xl font-bold text-gray-900 dark:text-white"},Yr={key:0,class:"mt-2 text-gray-600 dark:text-gray-400"},Zr={key:1,class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},$r={class:"font-medium text-gray-700 dark:text-gray-300"},ea={class:"flex gap-3"},ta={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},ra={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},aa={class:"flex items-center justify-between"},oa={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},sa={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},da={class:"flex items-center justify-between"},na={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},la={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},ia={class:"flex items-center justify-between"},ga={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},ua={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},ca={class:"flex items-center justify-between"},ba={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},xa={class:"mb-6 border-b border-gray-200 dark:border-gray-800"},ma={class:"-mb-px flex gap-8"},ya={key:0,class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},ka={class:"lg:col-span-2"},pa={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},fa={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},va={class:"mt-1"},ha={class:"mt-1 text-sm text-gray-900 dark:text-white"},wa={class:"mt-1 text-sm text-gray-900 dark:text-white"},_a={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ta={key:0,class:"sm:col-span-2"},ja={class:"mt-1 text-sm text-gray-900 dark:text-white whitespace-pre-wrap"},Da={class:"lg:col-span-1"},Ca={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},Sa={class:"space-y-4"},Ea={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ma={class:"mt-1 text-sm text-gray-900 dark:text-white"},Fa={class:"mt-1"};function Ba(p,r,l,t,x,T){const a=ye("router-link");return i(),Q(t.AdminLayout,null,{default:oe(()=>[e("div",zr,[s(" Loading State "),t.loading?(i(),b("div",Kr,[...r[4]||(r[4]=[e("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-gray-300 border-t-brand-600 dark:border-gray-700 dark:border-t-brand-500"},null,-1)])])):t.loadError?(i(),b(B,{key:1},[s(" Error State "),e("div",Nr,[e("div",Or,[r[7]||(r[7]=e("svg",{class:"h-6 w-6 flex-shrink-0 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",Rr,[r[6]||(r[6]=e("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"}," Failed to Load Project ",-1)),e("p",qr,u(t.loadError),1),e("div",Wr,[e("button",{onClick:t.loadProject,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600"}," Try Again "),te(a,{to:"/projects",class:"rounded-lg border border-red-600 bg-white px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 dark:border-red-500 dark:bg-gray-800 dark:text-red-400 dark:hover:bg-red-900/20"},{default:oe(()=>[...r[5]||(r[5]=[L(" Back to Projects ",-1)])]),_:1})])])])])],2112)):t.project?(i(),b(B,{key:2},[s(" Project Details "),e("div",null,[s(" Header with Actions "),e("div",Jr,[e("div",Qr,[e("div",Gr,[e("h1",Xr,u(t.project.name),1),e("span",{class:E(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",t.getStatusClasses(t.project.status)])},u(t.getStatusLabel(t.project.status)),3)]),t.project.description?(i(),b("p",Yr,u(t.project.description),1)):s("v-if",!0),t.project.client_name?(i(),b("p",Zr,[r[8]||(r[8]=L(" Client: ",-1)),e("span",$r,u(t.project.client_name),1)])):s("v-if",!0)]),e("div",ea,[te(a,{to:"/projects",class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"},{default:oe(()=>[...r[9]||(r[9]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),L(" Back ",-1)])]),_:1}),te(a,{to:`/projects/${t.project.id}/edit`,class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 dark:bg-brand-500 dark:hover:bg-brand-600"},{default:oe(()=>[...r[10]||(r[10]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),L(" Edit ",-1)])]),_:1},8,["to"])])]),s(" Stats Cards "),e("div",ta,[e("div",ra,[e("div",aa,[e("div",null,[r[11]||(r[11]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Budget",-1)),e("p",oa," $"+u(t.project.budget?Number(t.project.budget).toLocaleString():"0"),1)]),r[12]||(r[12]=e("div",{class:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/30"},[e("svg",{class:"h-6 w-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",sa,[e("div",da,[e("div",null,[r[13]||(r[13]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Hours",-1)),e("p",na,u(t.project.total_hours||"0")+"h ",1)]),r[14]||(r[14]=e("div",{class:"rounded-full bg-green-100 p-3 dark:bg-green-900/30"},[e("svg",{class:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",la,[e("div",ia,[e("div",null,[r[15]||(r[15]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Tasks",-1)),e("p",ga,u(t.project.task_count||"0"),1)]),r[16]||(r[16]=e("div",{class:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/30"},[e("svg",{class:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),e("div",ua,[e("div",ca,[e("div",null,[r[17]||(r[17]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Progress",-1)),e("p",ba,u(t.project.progress||"0")+"% ",1)]),r[18]||(r[18]=e("div",{class:"rounded-full bg-yellow-100 p-3 dark:bg-yellow-900/30"},[e("svg",{class:"h-6 w-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1))])])]),s(" Tab Navigation "),e("div",xa,[e("nav",ma,[e("button",{onClick:r[0]||(r[0]=y=>t.activeTab="details"),class:E(["border-b-2 py-4 text-sm font-medium transition-colors",t.activeTab==="details"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Details ",2),e("button",{onClick:r[1]||(r[1]=y=>t.activeTab="tasks"),class:E(["border-b-2 py-4 text-sm font-medium transition-colors",t.activeTab==="tasks"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Tasks ("+u(t.project.task_count||0)+") ",3),e("button",{onClick:r[2]||(r[2]=y=>t.activeTab="time"),class:E(["border-b-2 py-4 text-sm font-medium transition-colors",t.activeTab==="time"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Time Tracking ",2),e("button",{onClick:r[3]||(r[3]=y=>t.activeTab="timeline"),class:E(["border-b-2 py-4 text-sm font-medium transition-colors",t.activeTab==="timeline"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Timeline ",2)])]),s(" Tab Content "),e("div",null,[s(" Details Tab "),t.activeTab==="details"?(i(),b("div",ya,[s(" Main Details Card "),e("div",ka,[e("div",pa,[r[24]||(r[24]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Project Information ",-1)),e("dl",fa,[e("div",null,[r[19]||(r[19]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Status",-1)),e("dd",va,[e("span",{class:E(["inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full",t.getStatusClasses(t.project.status)])},[e("span",{class:E(["w-1.5 h-1.5 rounded-full",t.getStatusDotClasses(t.project.status)])},null,2),L(" "+u(t.getStatusLabel(t.project.status)),1)],2)])]),e("div",null,[r[20]||(r[20]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Priority",-1)),e("dd",ha,u(t.project.priority||"Not set"),1)]),e("div",null,[r[21]||(r[21]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Start Date",-1)),e("dd",wa,u(t.project.start_date?t.formatDate(t.project.start_date):"—"),1)]),e("div",null,[r[22]||(r[22]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"End Date",-1)),e("dd",_a,u(t.project.end_date?t.formatDate(t.project.end_date):"—"),1)]),t.project.description?(i(),b("div",Ta,[r[23]||(r[23]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Description",-1)),e("dd",ja,u(t.project.description),1)])):s("v-if",!0)])])]),s(" Metadata Card "),e("div",Da,[e("div",Ca,[r[28]||(r[28]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Metadata ",-1)),e("dl",Sa,[e("div",null,[r[25]||(r[25]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Created",-1)),e("dd",Ea,u(t.formatDate(t.project.created_at)),1)]),e("div",null,[r[26]||(r[26]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Last Updated",-1)),e("dd",Ma,u(t.formatDate(t.project.updated_at)),1)]),e("div",null,[r[27]||(r[27]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Active Status",-1)),e("dd",Fa,[e("span",{class:E(["inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full",t.project.is_active?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"])},[e("span",{class:E(["w-1.5 h-1.5 rounded-full",t.project.is_active?"bg-green-600":"bg-gray-400"])},null,2),L(" "+u(t.project.is_active?"Active":"Inactive"),1)],2)])])])])])])):t.activeTab==="tasks"?(i(),b(B,{key:1},[s(" Tasks Tab "),e("div",null,[te(t.TaskBoard,{"project-id":t.project.id},null,8,["project-id"])])],2112)):t.activeTab==="time"?(i(),b(B,{key:2},[s(" Time Tracking Tab "),e("div",null,[te(t.TimeTracker,{"project-id":t.project.id},null,8,["project-id"])])],2112)):t.activeTab==="timeline"?(i(),b(B,{key:3},[s(" Timeline Tab "),r[29]||(r[29]=e("div",null,[e("div",{class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},[e("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Project Timeline "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Timeline view showing project history and activity log. ")])],-1))],2112)):s("v-if",!0)])])],2112)):s("v-if",!0)])]),_:1})}const Aa=ae(Ur,[["render",Ba],["__file","/home/btafoya/projects/openclient/resources/js/src/views/Projects/ProjectView.vue"]]);export{Aa as default};
