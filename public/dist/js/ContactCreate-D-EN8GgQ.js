import{_ as b,b as w,h as S,i as u,H as m,I as _,r as p,q as C,o as f,e,c as R,d as B,l as x,t as j}from"./main-DU5QQqOg.js";import{u as h}from"./contacts-Dxeu_h9r.js";import{A}from"./AdminLayout-k0cXXt9e.js";import{C as D}from"./ContactForm-BYxQll31.js";import"./index-B9ygI19o.js";import"./clients-C2hMtF4k.js";const F={__name:"ContactCreate",setup(y,{expose:o}){o();const r=m(),t=_(),n=h(),a=p(null),s=C(()=>({client_id:t.query.client_id||""}));async function g(v){var l,d;a.value=null;try{const c=await n.createContact(v);r.push(`/crm/contacts/${c.id}`)}catch(c){a.value=((d=(l=c.response)==null?void 0:l.data)==null?void 0:d.message)||"Failed to create contact"}}function k(){r.push("/crm/contacts")}const i={router:r,route:t,contactStore:n,error:a,initialData:s,handleSubmit:g,handleCancel:k,ref:p,computed:C,get useRouter(){return m},get useRoute(){return _},get useContactStore(){return h},AdminLayout:A,ContactForm:D};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},M={class:"space-y-6"},N={class:"flex items-center gap-4"},V={key:0,class:"rounded-lg bg-red-50 p-4 dark:bg-red-900/20"},q={class:"text-sm text-red-700 dark:text-red-400"};function L(y,o,r,t,n,a){const s=w("router-link");return f(),S(t.AdminLayout,null,{default:u(()=>[e("div",M,[e("div",N,[x(s,{to:"/crm/contacts",class:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},{default:u(()=>[...o[0]||(o[0]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),o[1]||(o[1]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Create Contact"),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Add a new contact to your CRM")],-1))]),t.error?(f(),R("div",V,[e("p",q,j(t.error),1)])):B("v-if",!0),x(t.ContactForm,{"initial-data":t.initialData,"submit-text":"Create Contact",onSubmit:t.handleSubmit,onCancel:t.handleCancel},null,8,["initial-data"])])]),_:1})}const G=b(F,[["render",L],["__file","/home/btafoya/projects/openclient/resources/js/src/views/CRM/Contacts/ContactCreate.vue"]]);export{G as default};
