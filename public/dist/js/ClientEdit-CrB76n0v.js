import{_ as S,b as E,h as j,i as f,I as k,H as c,r as u,k as w,q as N,o as y,c as v,e,C as R,w as l,v as o,l as A,t as B,j as M}from"./main-DU1UAF-x.js";import{u as C}from"./clients-DvlY7_j-.js";import{A as q}from"./AdminLayout-Baccdx-S.js";import"./index-B9ygI19o.js";const z={__name:"ClientEdit",setup(U,{expose:t}){t();const d=k(),r=c(),s=C(),m=u(!1),n=u(!1),a=u({name:"",email:"",phone:"",company:"",address:"",city:"",state:"",zip:"",country:"",website:"",notes:""});async function g(){m.value=!0;try{await s.fetchClient(d.params.id);const i=s.currentClient;i&&(a.value={...i})}finally{m.value=!1}}async function V(){var i,p;n.value=!0;try{await s.updateClient(d.params.id,a.value),alert("Client updated successfully!"),r.push(`/crm/clients/${d.params.id}`)}catch(x){alert("Failed to update client: "+(((p=(i=x.response)==null?void 0:i.data)==null?void 0:p.message)||x.message))}finally{n.value=!1}}w(()=>g());const b={route:d,router:r,clientStore:s,loading:m,saving:n,form:a,loadClient:g,handleSubmit:V,ref:u,computed:N,onMounted:w,get useRoute(){return k},get useRouter(){return c},get useClientStore(){return C},AdminLayout:q};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}},P={key:0,class:"flex items-center justify-center py-12"},D={key:1,class:"mx-auto max-w-3xl space-y-6"},I={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},L={class:"sm:col-span-2"},T={class:"sm:col-span-2"},F={class:"sm:col-span-2"},H={class:"sm:col-span-2"},O={class:"sm:col-span-2"},W={class:"mt-6 flex gap-3"},Z=["disabled"];function G(U,t,d,r,s,m){const n=E("router-link");return y(),j(r.AdminLayout,null,{default:f(()=>[r.loading?(y(),v("div",P,[...t[11]||(t[11]=[e("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-gray-300 border-t-brand-600"},null,-1)])])):(y(),v("div",D,[t[24]||(t[24]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Edit Client"),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Update client information")],-1)),e("form",{onSubmit:R(r.handleSubmit,["prevent"]),class:"rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-gray-900"},[e("div",I,[e("div",L,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Name *",-1)),l(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.form.name=a),type:"text",required:"",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.name]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Email *",-1)),l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.form.email=a),type:"email",required:"",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.email]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Phone",-1)),l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.form.phone=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.phone]])]),e("div",T,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Company",-1)),l(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.form.company=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.company]])]),e("div",F,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Address",-1)),l(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.form.address=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.address]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"City",-1)),l(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>r.form.city=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.city]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"State",-1)),l(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>r.form.state=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.state]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ZIP",-1)),l(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>r.form.zip=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.zip]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Country",-1)),l(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>r.form.country=a),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.country]])]),e("div",H,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Website",-1)),l(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>r.form.website=a),type:"url",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.website]])]),e("div",O,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Notes",-1)),l(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=a=>r.form.notes=a),rows:"4",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,512),[[o,r.form.notes]])])]),e("div",W,[e("button",{type:"submit",disabled:r.saving,class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50"},B(r.saving?"Updating...":"Update Client"),9,Z),A(n,{to:"/crm/clients",class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},{default:f(()=>[...t[23]||(t[23]=[M("Cancel",-1)])]),_:1})])],32)]))]),_:1})}const Y=S(z,[["render",G],["__file","/home/btafoya/projects/openclient/resources/js/src/views/CRM/Clients/ClientEdit.vue"]]);export{Y as default};
