import{_ as H,b as N,h as A,i as m,I as _,H as j,r as u,q as T,k as C,o as n,e as t,d as a,c as l,F as c,t as o,l as p,j as b,n as i}from"./main-SWmWNSpG.js";import{u as P}from"./projects-Ch6R6B39.js";import{A as E}from"./AdminLayout-p298wg5X.js";import"./index-B9ygI19o.js";const z={__name:"ProjectView",setup(S,{expose:e}){e();const v=_(),r=j(),k=P(),y=u(!1),g=u(null),x=u("details"),D=T(()=>k.currentProject);async function f(){var s,d;y.value=!0,g.value=null;try{await k.fetchProject(v.params.id)}catch(w){console.error("Failed to load project:",w),g.value=((d=(s=w.response)==null?void 0:s.data)==null?void 0:d.error)||"Failed to load project details"}finally{y.value=!1}}function M(s){if(!s)return"—";const d=new Date(s);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(d)}function B(s){const d={planning:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",in_progress:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",on_hold:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",completed:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"};return d[s]||d.planning}function L(s){const d={planning:"bg-blue-600",in_progress:"bg-green-600",on_hold:"bg-yellow-600",completed:"bg-gray-600"};return d[s]||d.planning}function V(s){return{planning:"Planning",in_progress:"In Progress",on_hold:"On Hold",completed:"Completed"}[s]||s}C(()=>{f()});const h={route:v,router:r,projectStore:k,loading:y,loadError:g,activeTab:x,project:D,loadProject:f,formatDate:M,getStatusClasses:B,getStatusDotClasses:L,getStatusLabel:V,ref:u,computed:T,onMounted:C,get useRoute(){return _},get useRouter(){return j},get useProjectStore(){return P},AdminLayout:E};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},F={class:"mx-auto max-w-7xl"},I={key:0,class:"flex items-center justify-center py-12"},R={class:"rounded-lg border border-red-300 bg-red-50 p-6 dark:border-red-700 dark:bg-red-900/20"},O={class:"flex items-start gap-3"},U={class:"flex-1"},q={class:"mt-1 text-sm text-red-700 dark:text-red-400"},K={class:"mt-4 flex gap-3"},G={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"},J={class:"flex-1"},Q={class:"flex items-center gap-3"},W={class:"text-3xl font-bold text-gray-900 dark:text-white"},X={key:0,class:"mt-2 text-gray-600 dark:text-gray-400"},Y={key:1,class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Z={class:"font-medium text-gray-700 dark:text-gray-300"},$={class:"flex gap-3"},tt={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},et={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},rt={class:"flex items-center justify-between"},at={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},ot={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},st={class:"flex items-center justify-between"},dt={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},nt={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},lt={class:"flex items-center justify-between"},it={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},gt={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-800 dark:bg-gray-900"},bt={class:"flex items-center justify-between"},xt={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},mt={class:"mb-6 border-b border-gray-200 dark:border-gray-800"},ct={class:"-mb-px flex gap-8"},kt={key:0,class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},yt={class:"lg:col-span-2"},ut={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},pt={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},vt={class:"mt-1"},ft={class:"mt-1 text-sm text-gray-900 dark:text-white"},ht={class:"mt-1 text-sm text-gray-900 dark:text-white"},wt={class:"mt-1 text-sm text-gray-900 dark:text-white"},_t={key:0,class:"sm:col-span-2"},jt={class:"mt-1 text-sm text-gray-900 dark:text-white whitespace-pre-wrap"},Tt={class:"lg:col-span-1"},Ct={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},Pt={class:"space-y-4"},St={class:"mt-1 text-sm text-gray-900 dark:text-white"},Dt={class:"mt-1 text-sm text-gray-900 dark:text-white"},Mt={class:"mt-1"},Bt={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},Lt={class:"flex items-center justify-between mb-4"};function Vt(S,e,v,r,k,y){const g=N("router-link");return n(),A(r.AdminLayout,null,{default:m(()=>[t("div",F,[a(" Loading State "),r.loading?(n(),l("div",I,[...e[4]||(e[4]=[t("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-gray-300 border-t-brand-600 dark:border-gray-700 dark:border-t-brand-500"},null,-1)])])):r.loadError?(n(),l(c,{key:1},[a(" Error State "),t("div",R,[t("div",O,[e[7]||(e[7]=t("svg",{class:"h-6 w-6 flex-shrink-0 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),t("div",U,[e[6]||(e[6]=t("h3",{class:"text-lg font-medium text-red-800 dark:text-red-300"}," Failed to Load Project ",-1)),t("p",q,o(r.loadError),1),t("div",K,[t("button",{onClick:r.loadProject,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600"}," Try Again "),p(g,{to:"/projects",class:"rounded-lg border border-red-600 bg-white px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 dark:border-red-500 dark:bg-gray-800 dark:text-red-400 dark:hover:bg-red-900/20"},{default:m(()=>[...e[5]||(e[5]=[b(" Back to Projects ",-1)])]),_:1})])])])])],2112)):r.project?(n(),l(c,{key:2},[a(" Project Details "),t("div",null,[a(" Header with Actions "),t("div",G,[t("div",J,[t("div",Q,[t("h1",W,o(r.project.name),1),t("span",{class:i(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",r.getStatusClasses(r.project.status)])},o(r.getStatusLabel(r.project.status)),3)]),r.project.description?(n(),l("p",X,o(r.project.description),1)):a("v-if",!0),r.project.client_name?(n(),l("p",Y,[e[8]||(e[8]=b(" Client: ",-1)),t("span",Z,o(r.project.client_name),1)])):a("v-if",!0)]),t("div",$,[p(g,{to:"/projects",class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"},{default:m(()=>[...e[9]||(e[9]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),b(" Back ",-1)])]),_:1}),p(g,{to:`/projects/${r.project.id}/edit`,class:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 dark:bg-brand-500 dark:hover:bg-brand-600"},{default:m(()=>[...e[10]||(e[10]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),b(" Edit ",-1)])]),_:1},8,["to"])])]),a(" Stats Cards "),t("div",tt,[t("div",et,[t("div",rt,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Budget",-1)),t("p",at," $"+o(r.project.budget?Number(r.project.budget).toLocaleString():"0"),1)]),e[12]||(e[12]=t("div",{class:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/30"},[t("svg",{class:"h-6 w-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),t("div",ot,[t("div",st,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Hours",-1)),t("p",dt,o(r.project.total_hours||"0")+"h ",1)]),e[14]||(e[14]=t("div",{class:"rounded-full bg-green-100 p-3 dark:bg-green-900/30"},[t("svg",{class:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),t("div",nt,[t("div",lt,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Tasks",-1)),t("p",it,o(r.project.task_count||"0"),1)]),e[16]||(e[16]=t("div",{class:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/30"},[t("svg",{class:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),t("div",gt,[t("div",bt,[t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Progress",-1)),t("p",xt,o(r.project.progress||"0")+"% ",1)]),e[18]||(e[18]=t("div",{class:"rounded-full bg-yellow-100 p-3 dark:bg-yellow-900/30"},[t("svg",{class:"h-6 w-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1))])])]),a(" Tab Navigation "),t("div",mt,[t("nav",ct,[t("button",{onClick:e[0]||(e[0]=x=>r.activeTab="details"),class:i(["border-b-2 py-4 text-sm font-medium transition-colors",r.activeTab==="details"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Details ",2),t("button",{onClick:e[1]||(e[1]=x=>r.activeTab="tasks"),class:i(["border-b-2 py-4 text-sm font-medium transition-colors",r.activeTab==="tasks"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Tasks ("+o(r.project.task_count||0)+") ",3),t("button",{onClick:e[2]||(e[2]=x=>r.activeTab="time"),class:i(["border-b-2 py-4 text-sm font-medium transition-colors",r.activeTab==="time"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Time Tracking ",2),t("button",{onClick:e[3]||(e[3]=x=>r.activeTab="timeline"),class:i(["border-b-2 py-4 text-sm font-medium transition-colors",r.activeTab==="timeline"?"border-brand-600 text-brand-600 dark:border-brand-500 dark:text-brand-400":"border-transparent text-gray-600 hover:border-gray-300 hover:text-gray-900 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:text-gray-300"])}," Timeline ",2)])]),a(" Tab Content "),t("div",null,[a(" Details Tab "),r.activeTab==="details"?(n(),l("div",kt,[a(" Main Details Card "),t("div",yt,[t("div",ut,[e[24]||(e[24]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Project Information ",-1)),t("dl",pt,[t("div",null,[e[19]||(e[19]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Status",-1)),t("dd",vt,[t("span",{class:i(["inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full",r.getStatusClasses(r.project.status)])},[t("span",{class:i(["w-1.5 h-1.5 rounded-full",r.getStatusDotClasses(r.project.status)])},null,2),b(" "+o(r.getStatusLabel(r.project.status)),1)],2)])]),t("div",null,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Priority",-1)),t("dd",ft,o(r.project.priority||"Not set"),1)]),t("div",null,[e[21]||(e[21]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Start Date",-1)),t("dd",ht,o(r.project.start_date?r.formatDate(r.project.start_date):"—"),1)]),t("div",null,[e[22]||(e[22]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"End Date",-1)),t("dd",wt,o(r.project.end_date?r.formatDate(r.project.end_date):"—"),1)]),r.project.description?(n(),l("div",_t,[e[23]||(e[23]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Description",-1)),t("dd",jt,o(r.project.description),1)])):a("v-if",!0)])])]),a(" Metadata Card "),t("div",Tt,[t("div",Ct,[e[28]||(e[28]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Metadata ",-1)),t("dl",Pt,[t("div",null,[e[25]||(e[25]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Created",-1)),t("dd",St,o(r.formatDate(r.project.created_at)),1)]),t("div",null,[e[26]||(e[26]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Last Updated",-1)),t("dd",Dt,o(r.formatDate(r.project.updated_at)),1)]),t("div",null,[e[27]||(e[27]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Active Status",-1)),t("dd",Mt,[t("span",{class:i(["inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full",r.project.is_active?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"])},[t("span",{class:i(["w-1.5 h-1.5 rounded-full",r.project.is_active?"bg-green-600":"bg-gray-400"])},null,2),b(" "+o(r.project.is_active?"Active":"Inactive"),1)],2)])])])])])])):r.activeTab==="tasks"?(n(),l(c,{key:1},[a(" Tasks Tab "),t("div",null,[t("div",Bt,[t("div",Lt,[e[30]||(e[30]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Project Tasks ",-1)),p(g,{to:`/projects/${r.project.id}/tasks/create`,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-lg hover:bg-brand-700"},{default:m(()=>[...e[29]||(e[29]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" New Task ",-1)])]),_:1},8,["to"])]),e[31]||(e[31]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Task management interface will be implemented with the TaskBoard component. ",-1)),e[32]||(e[32]=t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-500"}," This will include Kanban board, task list, and drag-and-drop functionality. ",-1))])])],2112)):r.activeTab==="time"?(n(),l(c,{key:2},[a(" Time Tracking Tab "),e[33]||(e[33]=t("div",null,[t("div",{class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},[t("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Time Tracking "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Time tracking interface will be implemented with the TimeTracker component. "),t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-500"}," This will include timer control, time entry list, and billable hours tracking. ")])],-1))],2112)):r.activeTab==="timeline"?(n(),l(c,{key:3},[a(" Timeline Tab "),e[34]||(e[34]=t("div",null,[t("div",{class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900"},[t("h2",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Project Timeline "),t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Timeline view showing project history and activity log. ")])],-1))],2112)):a("v-if",!0)])])],2112)):a("v-if",!0)])]),_:1})}const zt=H(z,[["render",Vt],["__file","/home/btafoya/projects/openclient/resources/js/src/views/Projects/ProjectView.vue"]]);export{zt as default};
