import{_ as j,b as M,h as A,i as x,r as m,q as v,k as f,o as i,e as t,l as g,j as h,t as n,w as b,v as B,z as L,c,F as T,g as z,n as F}from"./main-DbkULGVR.js";import{u as w}from"./clients-TQOw1E9p.js";import{A as V}from"./AdminLayout-BDc3K8NM.js";import"./index-B9ygI19o.js";const D={__name:"ClientList",setup(_,{expose:e}){e();const l=w(),s=m(""),d=m("all"),u=v(()=>{let a=l.filteredClients;return d.value==="active"?a=a.filter(y=>y.is_active):d.value==="inactive"&&(a=a.filter(y=>!y.is_active)),a});async function o(){await l.fetchClients(d.value!=="inactive")}function r(){l.setSearchTerm(s.value)}function p(){o()}async function C(a){await l.toggleActive(a.id)}async function S(a){confirm(`Delete "${a.name}"?`)&&await l.deleteClient(a.id)}f(()=>o());const k={clientStore:l,searchTerm:s,activeFilter:d,displayedClients:u,loadClients:o,handleSearch:r,applyFilter:p,toggleClientStatus:C,confirmDelete:S,ref:m,computed:v,onMounted:f,get useClientStore(){return w},AdminLayout:V};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}},N={class:"space-y-6"},H={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},E={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},I={class:"p-4 bg-white rounded-lg border border-gray-200 dark:bg-white/[0.03] dark:border-gray-800"},O={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},P={class:"p-4 bg-white rounded-lg border border-gray-200 dark:bg-white/[0.03] dark:border-gray-800"},U={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},q={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},R={class:"flex-1 relative"},G={class:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},J={key:0,class:"p-8 text-center"},K={key:1,class:"p-8 text-center"},Q={key:2,class:"min-w-full"},W={class:"divide-y divide-gray-200 dark:divide-gray-700"},X={class:"px-5 py-4"},Y={class:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},Z={class:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},$={class:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},tt={class:"px-5 py-4"},et={class:"px-5 py-4"},rt={class:"flex items-center justify-end gap-2"},st=["onClick"],at=["onClick"];function ot(_,e,l,s,d,u){const o=M("router-link");return i(),A(s.AdminLayout,null,{default:x(()=>[t("div",N,[t("div",H,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Clients"),t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Manage your client companies")],-1)),g(o,{to:"/crm/clients/create",class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-lg hover:bg-brand-700"},{default:x(()=>[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),h(" New Client ",-1)])]),_:1})]),t("div",E,[t("div",I,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Clients",-1)),t("p",O,n(s.clientStore.clientCount),1)]),t("div",P,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Active Clients",-1)),t("p",U,n(s.clientStore.activeClientCount),1)])]),t("div",q,[t("div",R,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.searchTerm=r),onInput:s.handleSearch,type:"text",placeholder:"Search clients...",class:"w-full px-4 py-2 pl-10 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"},null,544),[[B,s.searchTerm]]),e[6]||(e[6]=t("svg",{class:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),b(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.activeFilter=r),onChange:s.applyFilter,class:"px-4 py-2 text-sm border border-gray-300 rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white"},[...e[7]||(e[7]=[t("option",{value:"all"},"All Clients",-1),t("option",{value:"active"},"Active Only",-1),t("option",{value:"inactive"},"Inactive Only",-1)])],544),[[L,s.activeFilter]])]),t("div",G,[s.clientStore.loading?(i(),c("div",J,[...e[8]||(e[8]=[t("div",{class:"inline-block w-8 h-8 border-4 border-brand-500 border-t-transparent rounded-full animate-spin"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"Loading...",-1)])])):s.displayedClients.length===0?(i(),c("div",K,[...e[9]||(e[9]=[t("p",{class:"text-sm text-gray-900 dark:text-white font-medium"},"No clients found",-1)])])):(i(),c("table",Q,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"px-5 py-3 text-left"},[t("p",{class:"font-medium text-gray-500 text-xs dark:text-gray-400"},"Name")]),t("th",{class:"px-5 py-3 text-left"},[t("p",{class:"font-medium text-gray-500 text-xs dark:text-gray-400"},"Email")]),t("th",{class:"px-5 py-3 text-left"},[t("p",{class:"font-medium text-gray-500 text-xs dark:text-gray-400"},"Phone")]),t("th",{class:"px-5 py-3 text-left"},[t("p",{class:"font-medium text-gray-500 text-xs dark:text-gray-400"},"Company")]),t("th",{class:"px-5 py-3 text-left"},[t("p",{class:"font-medium text-gray-500 text-xs dark:text-gray-400"},"Status")]),t("th",{class:"px-5 py-3 text-right"},[t("p",{class:"font-medium text-gray-500 text-xs dark:text-gray-400"},"Actions")])])],-1)),t("tbody",W,[(i(!0),c(T,null,z(s.displayedClients,r=>(i(),c("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[t("td",X,[g(o,{to:`/crm/clients/${r.id}`,class:"font-medium text-gray-800 dark:text-white hover:text-brand-600"},{default:x(()=>[h(n(r.name),1)]),_:2},1032,["to"])]),t("td",Y,n(r.email||"—"),1),t("td",Z,n(r.phone||"—"),1),t("td",$,n(r.company||"—"),1),t("td",tt,[t("span",{class:F([r.is_active?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400","inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full"])},n(r.is_active?"Active":"Inactive"),3)]),t("td",et,[t("div",rt,[g(o,{to:`/crm/clients/${r.id}`,class:"p-1.5 text-gray-600 hover:text-brand-600 dark:text-gray-400",title:"View"},{default:x(()=>[...e[10]||(e[10]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["to"]),g(o,{to:`/crm/clients/${r.id}/edit`,class:"p-1.5 text-gray-600 hover:text-brand-600 dark:text-gray-400",title:"Edit"},{default:x(()=>[...e[11]||(e[11]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["to"]),t("button",{onClick:p=>s.toggleClientStatus(r),class:"p-1.5 text-gray-600 hover:text-yellow-600 dark:text-gray-400",title:"Toggle"},[...e[12]||(e[12]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,st),t("button",{onClick:p=>s.confirmDelete(r),class:"p-1.5 text-gray-600 hover:text-red-600 dark:text-gray-400",title:"Delete"},[...e[13]||(e[13]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,at)])])]))),128))])]))])])]),_:1})}const xt=j(D,[["render",ot],["__file","/home/btafoya/projects/openclient/resources/js/src/views/CRM/Clients/ClientList.vue"]]);export{xt as default};
