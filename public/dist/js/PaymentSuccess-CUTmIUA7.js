import{A as P}from"./AdminLayout-DxqTGoZO.js";import{_ as S,b as j,c,o as i,e as t,d as u,F as v,a as C,t as f,l as y,i as p,j as x,I as k,r as m,k as h,h as V}from"./main-Dc7XXzbq.js";import{u as w}from"./payments-DHn42_xR.js";import"./index-B9ygI19o.js";const B={__name:"PaymentSuccessCard",setup(g,{expose:e}){e();const a=k(),r=w(),n=m(!0),d=m(null),s=m(null);async function o(){const b=a.query.session_id;if(!b){s.value="No session ID provided",n.value=!1;return}try{const l=await r.verifyPaymentSuccess(b);l?d.value=l:s.value="Could not verify payment status"}catch(l){s.value=l.message||"Failed to verify payment"}finally{n.value=!1}}h(()=>{o()});const _={route:a,paymentStore:r,loading:n,paymentData:d,error:s,verifyPayment:o,ref:m,onMounted:h,get useRoute(){return k},get usePaymentStore(){return w}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}},D={class:"max-w-md mx-auto"},I={class:"rounded-xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] p-8 text-center"},N={key:0,class:"py-8"},L={class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-6"},M={class:"grid grid-cols-2 gap-4 text-sm"},A={class:"text-left"},F={class:"font-medium text-gray-900 dark:text-white"},$={class:"text-right"},z={class:"font-medium text-green-600 dark:text-green-400 capitalize"},E={class:"flex flex-col sm:flex-row gap-3 justify-center"},O={class:"text-gray-600 dark:text-gray-400 mb-6"};function R(g,e,a,r,n,d){var o;const s=j("router-link");return i(),c("div",D,[t("div",I,[u(" Loading State "),r.loading?(i(),c("div",N,[...e[0]||(e[0]=[t("div",{class:"inline-block w-10 h-10 border-4 border-brand-500 border-t-transparent rounded-full animate-spin mb-4"},null,-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"Verifying payment...",-1)])])):r.paymentData?(i(),c(v,{key:1},[u(" Success State "),e[5]||(e[5]=C('<div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/20 mb-4"><svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-2"> Payment Successful! </h2><p class="text-gray-600 dark:text-gray-400 mb-6"> Thank you for your payment. A receipt has been sent to your email. </p>',3)),t("div",L,[t("div",M,[t("div",A,[e[1]||(e[1]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Payment ID",-1)),t("p",F,f((o=r.paymentData.payment_id)==null?void 0:o.slice(0,8))+"... ",1)]),t("div",$,[e[2]||(e[2]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Status",-1)),t("p",z,f(r.paymentData.status),1)])])]),t("div",E,[y(s,{to:`/invoices/${r.paymentData.invoice_id}`,class:"inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700"},{default:p(()=>[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),x(" View Invoice ",-1)])]),_:1},8,["to"]),y(s,{to:"/invoices",class:"inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-lg hover:bg-brand-700"},{default:p(()=>[...e[4]||(e[4]=[x(" Back to Invoices ",-1)])]),_:1})])],64)):r.error?(i(),c(v,{key:2},[u(" Error State "),e[7]||(e[7]=t("div",{class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4"},[t("svg",{class:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),e[8]||(e[8]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Payment Verification Failed ",-1)),t("p",O,f(r.error),1),y(s,{to:"/invoices",class:"inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-lg hover:bg-brand-700"},{default:p(()=>[...e[6]||(e[6]=[x(" Back to Invoices ",-1)])]),_:1})],64)):u("v-if",!0)])])}const T=S(B,[["render",R],["__file","/home/btafoya/projects/openclient/resources/js/src/components/payments/PaymentSuccessCard.vue"]]),q={__name:"PaymentSuccess",setup(g,{expose:e}){e();const a={AdminLayout:P,get PaymentSuccessCard(){return T}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},H={class:"py-12"};function G(g,e,a,r,n,d){return i(),V(r.AdminLayout,null,{default:p(()=>[t("div",H,[y(r.PaymentSuccessCard)])]),_:1})}const W=S(q,[["render",G],["__file","/home/btafoya/projects/openclient/resources/js/src/views/Payments/PaymentSuccess.vue"]]);export{W as default};
